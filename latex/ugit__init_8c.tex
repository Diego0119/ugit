\doxysection{src/funciones/ugit\+\_\+init.c File Reference}
\hypertarget{ugit__init_8c}{}\label{ugit__init_8c}\index{src/funciones/ugit\_init.c@{src/funciones/ugit\_init.c}}


Permite inicializar el repositorio del sistema de control de versiones.  


{\ttfamily \#include "{}../definicion\+\_\+funciones/funciones.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ugit__init_8c_ab110bd50612a36d611ef712e70f7678a}{ugit\+\_\+init}} (\mbox{\hyperlink{funciones_8h_a14904de83c569b98fe99d48f8ad552db}{Branch}} \texorpdfstring{$\ast$}{*}branches, char \texorpdfstring{$\ast$}{*}initial\+\_\+prompt, int \texorpdfstring{$\ast$}{*}repositorio\+\_\+flag)
\begin{DoxyCompactList}\small\item\em Inicializa el repositorio del sistema {\ttfamily u\+Git}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Permite inicializar el repositorio del sistema de control de versiones. 

Esta función se encarga de inicializar un nuevo repositorio para el sistema de control de versiones {\ttfamily u\+Git}. Si el repositorio no ha sido inicializado previamente, solicita el nombre del usuario y configura la rama principal ({\ttfamily main}) junto con el prompt inicial. También establece la bandera de repositorio como inicializada.

\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2024-\/09-\/17 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{ugit__init_8c_ab110bd50612a36d611ef712e70f7678a}\index{ugit\_init.c@{ugit\_init.c}!ugit\_init@{ugit\_init}}
\index{ugit\_init@{ugit\_init}!ugit\_init.c@{ugit\_init.c}}
\doxysubsubsection{\texorpdfstring{ugit\_init()}{ugit\_init()}}
{\footnotesize\ttfamily \label{ugit__init_8c_ab110bd50612a36d611ef712e70f7678a} 
char \texorpdfstring{$\ast$}{*} ugit\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{funciones_8h_a14904de83c569b98fe99d48f8ad552db}{Branch}} \texorpdfstring{$\ast$}{*}}]{branches}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{initial\+\_\+prompt}{, }\item[{int \texorpdfstring{$\ast$}{*}}]{repositorio\+\_\+flag}{}\end{DoxyParamCaption})}



Inicializa el repositorio del sistema {\ttfamily u\+Git}. 

Inicializa un nuevo repositorio.

La función {\ttfamily ugit\+\_\+init} configura el repositorio inicial del sistema de control de versiones {\ttfamily u\+Git}. Si el repositorio no ha sido inicializado previamente, solicita el nombre del usuario y crea la rama principal ({\ttfamily main}). También ajusta el prompt inicial y marca el repositorio como inicializado.


\begin{DoxyParams}{Parameters}
{\em branches} & Estructura de datos que contiene todas las ramas del repositorio. La función inicializa la rama principal ({\ttfamily main}) en esta estructura. \\
\hline
{\em initial\+\_\+prompt} & Cadena de caracteres que representa el prompt inicial del sistema {\ttfamily u\+Git}. La función actualiza este prompt para reflejar la rama principal ({\ttfamily main}) después de la inicialización. \\
\hline
{\em repositorio\+\_\+flag} & Bandera que indica si el repositorio ha sido inicializado. La función verifica este flag para evitar la inicialización repetida del repositorio.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Cadena de caracteres que contiene el nombre del usuario ingresado. Retorna {\ttfamily NULL} si el repositorio ya ha sido inicializado previamente. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{char}\ *\mbox{\hyperlink{funciones_8h_a09ccf8afffab02354c1e2d40060f638b}{ugit\_init}}(\mbox{\hyperlink{structbranch}{Branch}}\ *branches,\ \textcolor{keywordtype}{char}\ *initial\_prompt,\ \textcolor{keywordtype}{int}\ *repositorio\_flag)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ (*repositorio\_flag\ ==\ 0)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *user\_name\ =\ (\textcolor{keywordtype}{char}\ *)malloc(256\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (user\_name\ ==\ NULL)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Error\ al\ asignar\ memoria\ para\ el\ nombre\ del\ usuario.\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ exit(1);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Ingrese\ su\ nombre:\ "{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ fgets(user\_name,\ 256,\ stdin);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ len\ =\ strlen(user\_name);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (len\ >\ 0\ \&\&\ user\_name[len\ -\/\ 1]\ ==\ \textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ user\_name[len\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Repositorio\ de\ uGit\ inicializado\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{funciones_8h_aedf02cc3f92d1d8075f18b48e9c1c712}{ugit\_branch}}(\textcolor{stringliteral}{"{}main"{}},\ branches);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{funciones_8h_a06830cd767546a72401df9df60d02fb4}{ugit\_branch\_control}}(\textcolor{stringliteral}{"{}main"{}},\ initial\_prompt);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ *repositorio\_flag\ =\ 1;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ user\_name;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Ya\ hay\ un\ repositorio\ inicializado\(\backslash\)n"{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}

\end{DoxyReturn}
La función realiza las siguientes operaciones\+:
\begin{DoxyItemize}
\item Verifica si el repositorio ha sido inicializado previamente usando la bandera {\ttfamily repositorio\+\_\+flag}.
\item Si el repositorio no está inicializado ({\ttfamily repositorio\+\_\+flag == 0}), solicita el nombre del usuario y lo almacena en la variable {\ttfamily user\+\_\+name}.
\item Elimina el salto de línea final del nombre del usuario, si existe.
\item Imprime un mensaje indicando que el repositorio ha sido inicializado.
\item Llama a la función {\ttfamily ugit\+\_\+branch} para crear la rama principal ({\ttfamily main}).
\item Llama a la función {\ttfamily ugit\+\_\+branch\+\_\+control} para ajustar el prompt inicial al de la rama principal ({\ttfamily main}).
\item Establece la bandera {\ttfamily repositorio\+\_\+flag} a 1 para indicar que el repositorio ha sido inicializado.
\item Retorna el nombre del usuario ingresado.
\item Si el repositorio ya ha sido inicializado, imprime un mensaje y retorna {\ttfamily NULL}.
\end{DoxyItemize}

\begin{DoxyNote}{Note}
Asegúrese de que el nombre del usuario ingresado no exceda el límite de caracteres. La función utiliza {\ttfamily fgets} para leer la entrada del usuario y maneja el posible salto de línea al final de la cadena. 
\end{DoxyNote}
